SENDER = (input -> send -> getack -> SENDER).

L1_SENDER = (input -> send -> (timeout -> send -> getack -> L1_SENDER | getack -> L1_SENDER)).

LN_SENDER = (input -> SEND),
SEND = (send -> WAIT),
WAIT = (getack -> LN_SENDER | timeout -> SEND).

RECEIVER = (rec -> output -> ack -> RECEIVER).

range B= 0..1

INPUT = (input -> SENDING[0]),
SENDING[b:B] = (send[b] -> SENDING[b]
              | getack[b] -> input -> SENDING[!b]
              | getack[!b] -> SENDING[b]).

OUTPUT = (rec[0] -> output -> ACKING[0]),
ACKING[b:B] = (ack[b] -> ACKING[b]
             | rec[b] -> ACKING[b]
             | rec[!b] -> output -> ACKING[!b]).

ENV = (send -> rec -> ack -> getack -> ENV).

property P = (input -> output -> P).